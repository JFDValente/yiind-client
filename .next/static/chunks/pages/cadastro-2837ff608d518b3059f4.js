(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[788],{3406:function(e,t,n){"use strict";var r=n(9585),o="user_token",i={maxAge:3540,path:"/"};t.Z={clearUserToken:function(){(new r.Z).remove(o,{path:"/"})},getUserToken:function(){return(new r.Z).get(o)},setUserToken:function(e){(new r.Z).set(o,e,i)}}},8925:function(e,t){"use strict";t.Z={onlyNumbers:function(e){return e.replace(/[^\d]/g,"")}}},5294:function(e,t,n){"use strict";var r=n(8925);t.Z={cnpj:function(e){var t=r.Z.onlyNumbers(e);return t.length<14?t:t.substr(0,14).replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5")}}},3321:function(e,t,n){"use strict";var r=n(7603),o="ideias";t.Z={create:function(e){return r.Z._post_(o,e)},listCategories:function(){var e="".concat(o,"/categorias");return r.Z._get_(e)}}},1517:function(e,t,n){"use strict";var r=n(3789);t.Z={cnpj:function(e){if(!e)return!1;var t="string"===typeof e;if(!(t||Number.isInteger(e)||Array.isArray(e)))return!1;if(t){if(e.length>18)return!1;var n=/^\d{14}$/.test(e),o=/^\d{2}.\d{3}.\d{3}\/\d{4}-\d{2}$/.test(e);if(!n&&!o)return!1}var i=e.toString().match(/\d/g),a=Array.isArray(i)?i.map(Number):[];if(14!==a.length)return!1;if(1===(0,r.Z)(new Set(a)).length)return!1;var c=function(e){for(var t=a.slice(0,e),n=e-7,r=0,o=e;o>=1;o--){r+=t[e-o]*n--,n<2&&(n=9)}var i=11-r%11;return i>9?0:i},u=a.slice(12);return c(12)===u[0]&&c(13)===u[1]}}},7836:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(2809),o=n(318),i=n(266),a=n(3789),c=n(809),u=n.n(c),s=n(7294),l=n(3321),f=n(3746),d=n(9163),p={CategoriesContainer:d.default.div.withConfig({componentId:"sc-dxt01t-0"})(["box-sizing:border-box;align-content:center;text-align:center;margin-bottom:",";width:100%;"],(function(e){return(0,e.theme.spacing)("base")})),Item:d.default.span.withConfig({componentId:"sc-dxt01t-1"})(["cursor:pointer;display:inline-block;border-radius:50px;font-weight:bold;font-size:14px;padding:",";margin:",";background-color:",";:hover{background-color:#347DBC;}"],(function(e){return(0,e.theme.spacing)("micro")}),(function(e){return(0,e.theme.spacing)("micro")}),(function(e){return e.selected?"#347DBC":"#70AEE5"}))},m=n(5893);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){var t=e.onChange,n=(0,s.useState)([]),r=n[0],c=n[1];return(0,s.useEffect)((0,i.Z)(u().mark((function e(){var t,n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.Z)(l.Z.listCategories());case 2:if(t=e.sent,n=(0,o.Z)(t,2),r=n[0],i=n[1],!r){e.next=9;break}return console.log("Erro ao carregar lista de categorias"),e.abrupt("return");case 9:a=null===i||void 0===i?void 0:i.categorias.map((function(e){return h({selected:!1},e)})),c(a);case 11:case"end":return e.stop()}}),e)}))),[]),(0,m.jsx)(p.CategoriesContainer,{children:!!r.length&&r.map((function(e){return(0,m.jsx)(p.Item,{onClick:function(){return function(e){var n=r,o=n.findIndex((function(t){return t.id===e}));n[o].selected=!n[o].selected,c((0,a.Z)(n));var i=r.filter((function(e){return e.selected})).map((function(e){return e.id}));i.length&&t(i)}(e.id)},selected:e.selected,children:e.titulo},e.id)}))})}var v=s.memo(b)},2028:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return F}});var r=n(7294),o=n(2809),i=n(318),a=n(266),c=n(809),u=n.n(c),s=n(1163),l=n(3406),f=n(5294),d=n(8925),p=n(3746),m=n(9835),g=n(1517),h=n(9384),b=n(2696),v=n(1156),x=n(9163),j={Form:x.default.form.withConfig({componentId:"sc-1rk6htp-0"})(["display:flex;flex-direction:column;margin-bottom:",";"],(function(e){return(0,e.theme.spacing)("mega")})),Line:x.default.div.withConfig({componentId:"sc-1rk6htp-1"})(["display:flex;flex-direction:column;justify-content:space-between;","{flex-direction:row;}"],(function(e){return e.theme.breakpoints.up("md")}))},w=n(5893);var C=function(e){var t=(0,s.useRouter)(),n=e.onSuccess,o=(0,r.useState)(""),c=o[0],x=o[1],C=(0,r.useState)(""),y=C[0],Z=C[1],O=(0,r.useState)(""),k=O[0],S=O[1],E=(0,r.useState)(""),P=E[0],D=E[1],A=(0,r.useState)(""),I=A[0],_=A[1],T=(0,r.useState)(""),N=T[0],F=T[1],R=(0,r.useState)(""),$=R[0],U=R[1],q=(0,r.useState)("success"),z=q[0],L=q[1],J=function(){var e=(0,a.Z)(u().mark((function e(t){var r,o,a,s,f,h;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),U(""),g.Z.cnpj(y)||(L("failure"),U("O CNPJ fornecido est\xe1 incorreto"),0)){e.next=3;break}return e.abrupt("return");case 3:return o={nome:c,cnpj:d.Z.onlyNumbers(y),email:I,telefone:N,senha:k},e.next=6,(0,p.Z)(m.Z.createPJ(o));case 6:if(a=e.sent,s=(0,i.Z)(a,2),f=s[0],h=s[1],!f){e.next=14;break}return L("failure"),U(f.mensagem),e.abrupt("return");case 14:l.Z.setUserToken(null===h||void 0===h||null===(r=h.usuario[1])||void 0===r?void 0:r.token),L("success"),U(h.mensagem),setTimeout((function(){n()}),1500);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){l.Z.getUserToken()&&t.push("/ideias")}),[]),(0,w.jsxs)(w.Fragment,{children:[!!$&&(0,w.jsx)(h.Z,{type:z,message:$}),(0,w.jsxs)(j.Form,{onSubmit:J,children:[(0,w.jsx)(b.Z,{type:"text",name:"enterpriseName",label:"Empresa",value:c,onChange:function(e){var t=e.target;x(t.value)},required:!0}),(0,w.jsxs)(j.Line,{children:[(0,w.jsx)(b.Z,{type:"text",name:"cnpj",label:"CNPJ",value:y,onChange:function(e){return Z(f.Z.cnpj(e.target.value))},required:!0}),(0,w.jsx)(b.Z,{type:"text",name:"phone",label:"Telefone",value:N,onChange:function(e){var t=e.target;F(t.value)}})]}),(0,w.jsx)(b.Z,{type:"email",name:"email",label:"Email",value:I,onChange:function(e){var t=e.target;_(t.value)},required:!0}),(0,w.jsx)(b.Z,{type:"password",name:"password",label:"Senha",value:k,onChange:function(e){var t=e.target;S(t.value)},required:!0}),(0,w.jsx)(b.Z,{type:"password",name:"confirmedPassword",label:"Confirmar senha",value:P,onChange:function(e){var t=e.target;D(t.value)},required:!0}),(0,w.jsx)(v.Z,{label:"Confirmar"})]})]})},y=x.default.div.withConfig({componentId:"sc-1hsoiuu-0"})(["display:flex;flex-direction:column;background-color:#D5D5D5;border-radius:10px;border:2px solid #A5A5A5;",";margin:150px auto;width:80%;","{width:60%;}"],(function(e){var t=e.theme.spacing;return"\n    padding: ".concat(t("large")," ").concat(t("small"),"\n  ")}),(function(e){return e.theme.breakpoints.up("lg")})),Z=x.default.h2.withConfig({componentId:"sc-1hsoiuu-1"})(["font-size:16px;font-weight:bold;color:#000000;border-bottom:1px solid #919191;width:100%;padding-bottom:",";margin-bottom:",";"],(function(e){return(0,e.theme.spacing)("small")}),(function(e){return(0,e.theme.spacing)("small")})),O={Container:y,FormContainer:x.default.div.withConfig({componentId:"sc-1hsoiuu-2"})(["width:90%;align-self:center;","{width:70%;}"],(function(e){return e.theme.breakpoints.up("md")})),Title:Z};function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e){return(0,w.jsxs)(O.Container,{children:[(0,w.jsx)(O.Title,{children:"CADASTRO"}),(0,w.jsx)(O.FormContainer,{children:(0,w.jsx)(C,S({},e))})]})},P=n(7836),D={Form:x.default.form.withConfig({componentId:"sc-15v2var-0"})(["display:flex;flex-direction:column;width:100%;"])};var A=function(e){var t=e.onSubmit,n=(0,r.useState)([]),o=n[0],i=n[1];return(0,w.jsxs)(D.Form,{onSubmit:function(e){e.preventDefault(),o.length&&t(o)},children:[(0,w.jsx)(P.Z,{onChange:i}),(0,w.jsx)(v.Z,{label:"Confirmar"})]})},I=x.default.div.withConfig({componentId:"sc-p0j3rm-0"})(["display:flex;flex-direction:column;background-color:#D5D5D5;border-radius:10px;border:2px solid #A5A5A5;",";margin:150px auto;width:80%;","{width:40%;}"],(function(e){var t=e.theme.spacing;return"\n    padding: ".concat(t("large")," ").concat(t("small"),"\n  ")}),(function(e){return e.theme.breakpoints.up("lg")})),_=x.default.h2.withConfig({componentId:"sc-p0j3rm-1"})(["font-size:16px;font-weight:bold;color:#000000;border-bottom:1px solid #919191;width:100%;padding-bottom:",";margin-bottom:",";"],(function(e){return(0,e.theme.spacing)("small")}),(function(e){return(0,e.theme.spacing)("small")})),T={Container:I,FormContainer:x.default.div.withConfig({componentId:"sc-p0j3rm-2"})(["box-sizing:border-box;width:95%;align-self:center;","{width:95%;}"],(function(e){return e.theme.breakpoints.up("md")})),Title:_};var N=function(e){var t=e.minLimit,n=(0,s.useRouter)(),o=(0,r.useState)(""),c=o[0],l=o[1],f=function(){var e=(0,a.Z)(u().mark((function e(r){var o,a,c,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.length<t&&l("Selecione pelo menos ".concat(t," categoria").concat(t>1?"s":"")),o={categorias:r},e.next=4,(0,p.Z)(m.Z.associateCategories(o));case 4:if(a=e.sent,c=(0,i.Z)(a,2),s=c[0],c[1],!s){e.next=11;break}return console.log("Erro ao tentar associoar lista de categorias ao usu\xe1rio"),e.abrupt("return");case 11:n.push("/ideias");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,w.jsxs)(T.Container,{children:[!!c&&(0,w.jsx)(h.Z,{type:"failure",message:c}),(0,w.jsx)(T.Title,{children:"SELECIONE TR\xcaS CATEGORIAS DE SUA PREFER\xcaNCIA"}),(0,w.jsx)(T.FormContainer,{children:(0,w.jsx)(A,{onSubmit:f})})]})};function F(){var e=(0,r.useState)(!1),t=e[0],n=e[1];return(0,w.jsxs)(w.Fragment,{children:[!t&&(0,w.jsx)(E,{onSuccess:function(){n(!t)}}),t&&(0,w.jsx)(N,{minLimit:3})]})}},8755:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cadastro",function(){return n(2028)}])},1163:function(e,t,n){e.exports=n(4651)}},function(e){e.O(0,[729,774,888,179],(function(){return t=8755,e(e.s=t);var t}));var t=e.O();_N_E=t}]);