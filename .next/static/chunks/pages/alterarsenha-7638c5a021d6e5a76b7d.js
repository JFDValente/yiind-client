(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[810],{3878:function(n,e,t){"use strict";var r=t(266),a=t(809),u=t.n(a);function i(){return(i=(0,r.Z)(u().mark((function n(e){var t,r,a,i;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=(new TextEncoder).encode(e),n.next=3,crypto.subtle.digest("SHA-256",t);case 3:return r=n.sent,a=Array.from(new Uint8Array(r)),i=a.map((function(n){return n.toString(16).padStart(2,"0")})).join(""),n.abrupt("return",i);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}e.Z={sha256:function(n){return i.apply(this,arguments)}}},8925:function(n,e){"use strict";e.Z={onlyNumbers:function(n){return n.replace(/[^\d]/g,"")}}},5294:function(n,e,t){"use strict";var r=t(8925);e.Z={cnpj:function(n){var e=r.Z.onlyNumbers(n);return e.length<14?e:e.substr(0,14).replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5")}}},1517:function(n,e,t){"use strict";var r=t(3789);e.Z={cnpj:function(n){if(!n)return!1;var e="string"===typeof n;if(!(e||Number.isInteger(n)||Array.isArray(n)))return!1;if(e){if(n.length>18)return!1;var t=/^\d{14}$/.test(n),a=/^\d{2}.\d{3}.\d{3}\/\d{4}-\d{2}$/.test(n);if(!t&&!a)return!1}var u=n.toString().match(/\d/g),i=Array.isArray(u)?u.map(Number):[];if(14!==i.length)return!1;if(1===(0,r.Z)(new Set(i)).length)return!1;var o=function(n){for(var e=i.slice(0,n),t=n-7,r=0,a=n;a>=1;a--){r+=e[n-a]*t--,t<2&&(t=9)}var u=11-r%11;return u>9?0:u},s=i.slice(12);return o(12)===s[0]&&o(13)===s[1]}}},4042:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return S}});var r=t(318),a=t(266),u=t(809),i=t.n(u),o=t(7294),s=t(3878),c=t(5294),f=t(8925),d=t(3746),l=t(9835),p=t(1517),m=t(9384),h=t(2696),g=t(1156),v=t(9163),x={Form:v.default.form.withConfig({componentId:"sc-1w8oui6-0"})(["display:flex;flex-direction:column;margin-bottom:",";"],(function(n){return(0,n.theme.spacing)("mega")}))},w=t(5893),b=function(){var n=(0,o.useState)(""),e=n[0],t=n[1],u=(0,o.useState)(""),v=u[0],b=u[1],Z=(0,o.useState)(""),y=Z[0],j=Z[1],C=(0,o.useState)(""),S=C[0],N=C[1],A=(0,o.useState)(""),k=A[0],_=A[1],E=function(){var n=(0,a.Z)(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=f.Z.onlyNumbers(e),n.next=3,s.Z.sha256(v);case 3:return n.t1=n.sent,n.next=6,s.Z.sha256(y);case 6:return n.t2=n.sent,n.abrupt("return",{cnpj:n.t0,senhaTemp:n.t1,novaSenha:n.t2});case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),P=function(){var n=(0,a.Z)(i().mark((function n(t){var a,u,o,s,c;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),N(""),p.Z.cnpj(e)||(_("failure"),N("O CNPJ fornecido est\xe1 incorreto"),0)){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,E();case 5:return a=n.sent,n.next=8,(0,d.Z)(l.Z.updatePassword(a));case 8:if(u=n.sent,o=(0,r.Z)(u,2),s=o[0],c=o[1],!s){n.next=16;break}return _("failure"),N(s.mensagem),n.abrupt("return");case 16:_("success"),N(c.mensagem);case 18:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,w.jsxs)(w.Fragment,{children:[!!S&&(0,w.jsx)(m.Z,{type:k,message:S}),(0,w.jsxs)(x.Form,{onSubmit:P,children:[(0,w.jsx)(h.Z,{type:"text",name:"cnpj",label:"CNPJ",value:e,onChange:function(n){return t(c.Z.cnpj(n.target.value))},required:!0}),(0,w.jsx)(h.Z,{type:"password",name:"tempPassword",label:"Senha tempor\xe1ria",value:v,onChange:function(n){var e=n.target;b(e.value)},required:!0}),(0,w.jsx)(h.Z,{type:"password",name:"newPassword",label:"Nova Senha",value:y,onChange:function(n){var e=n.target;j(e.value)},required:!0}),(0,w.jsx)(g.Z,{label:"Enviar"})]})]})},Z=v.default.div.withConfig({componentId:"sc-37wx93-0"})(["display:flex;flex-direction:column;background-color:#D5D5D5;border-radius:10px;border:2px solid #A5A5A5;",";margin:150px auto;width:80%;","{width:40%;}"],(function(n){var e=n.theme.spacing;return"\n    padding: ".concat(e("large")," ").concat(e("small"),"\n  ")}),(function(n){return n.theme.breakpoints.up("lg")})),y=v.default.h2.withConfig({componentId:"sc-37wx93-1"})(["font-size:16px;font-weight:bold;color:#000000;border-bottom:1px solid #919191;width:100%;padding-bottom:",";margin-bottom:",";"],(function(n){return(0,n.theme.spacing)("small")}),(function(n){return(0,n.theme.spacing)("small")})),j={Container:Z,FormContainer:v.default.div.withConfig({componentId:"sc-37wx93-2"})(["width:90%;align-self:center;","{width:70%;}"],(function(n){return n.theme.breakpoints.up("md")})),Title:y};var C=function(){return(0,w.jsxs)(j.Container,{children:[(0,w.jsx)(j.Title,{children:"ALTERAR SENHA"}),(0,w.jsx)(j.FormContainer,{children:(0,w.jsx)(b,{})})]})};function S(){return(0,w.jsx)(C,{})}},8949:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/alterarsenha",function(){return t(4042)}])}},function(n){n.O(0,[729,774,888,179],(function(){return e=8949,n(n.s=e);var e}));var e=n.O();_N_E=e}]);